<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" 
	"http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap namespace="CuentaCompDaoIbatis">

  <typeAlias type="pe.com.tumi.credito.socio.aperturaCuenta.core.domain.composite.CuentaComp" alias="CuentaComp"/>
  
  <resultMap id="resCuentaComp" class="CuentaComp" >
     <result property="cuenta.id.intPersEmpresaPk"  				column="pC_PERS_EMPRESA_N" />
     <result property="cuenta.id.intCuenta"      					column="pC_CUENTA_N" />
     <result property="cuenta.strNombreCuenta"    					column="pNOMBRECUENTA_V" />
     <result property="cuenta.intIntegrantes"     					column="pINTEGRANTES_N" />
     <result property="cuenta.intParaTipoCuentaCod"   				column="pPARA_TIPOCUENTA_N_COD" />
     <result property="cuenta.intParaTipoConformacionCod"   		column="pPARA_TIPOCONFORMACION_N_COD" />
     <result property="cuenta.intParaSubTipoCuentaCod"   			column="pPARA_SUBTIPOCTA_N_COD" />
     <result property="cuenta.intParaTipoMonedaCod"   				column="pPARA_TIPOMONEDA_N_COD" />
     <result property="cuenta.intSecuenciaCuenta"   				column="pSECUENCIACUENTA_N" />
     <result property="cuenta.strNumeroCuenta"   					column="pNUMEROCUENTA_V" />
     <result property="cuenta.bdMontoPlanilla"   					column="pMONTOPLANILLA_N" />
     <result property="cuenta.intParaTipoFrecuenciaCod"   			column="pPARA_TIPOFRECUENCIA_N_COD" />
     <result property="cuenta.intParaTipoPeriodicidadCod"   		column="pPARA_PERIODICIDAD_N_COD" />
     <result property="cuenta.dtFechaInicioCobro"   				column="pFECHAINICIOCOBRO_D" />
     <result property="cuenta.intParaOpcionRenovacionCod"   		column="pPARA_OPCIONRENOVACION_N_COD" />
     <result property="cuenta.intParaSituacionCuentaCod"   			column="pPARASITUACIONCUENTA_N_COD" />
     <result property="cuenta.intParaCondicionCuentaCod"   			column="pPARACONDICIONCUENTA_N_COD" />
     <result property="cuenta.intParaSubCondicionCuentaCod"   		column="pPARA_SUBCONDICIONCUENTA_N_COD" />
     <result property="cuenta.intIdUsuSucursal"   					column="pSUCU_IDUSUSUCURSAL_N" />
     <result property="cuenta.intIdUsuSubSucursal"   				column="pSUDE_IDUSUSUBSUCURSAL_N" />
     <result property="cuenta.intPersonaUsuSucursal"   				column="pPERS_PERSONAUSUSUCURSAL_N" />
     <result property="cuenta.tsFecRegUsuSucursal"   				column="pUSSU_FECREGUSUSUCURSAL" />
     <result property="cuenta.tsCuentFecRegistro"   				column="pCUEN_FECHAREGISTRO_D" />
     <result property="cuentaIntegrante.id.intPersEmpresaPk"  		column="pCI_PERS_EMPRESA_PK" />
     <result property="cuentaIntegrante.id.intCuenta"      			column="pCI_CUENTA_N" />
     <result property="cuentaIntegrante.id.intPersonaIntegrante"    column="pPERS_PERSONAINTEGRANTE_N" />
     <result property="cuentaIntegrante.intParaTipoIntegranteCod"   column="pPARA_TIPOINTEGRANTE_N" />
     <result property="cuentaIntegrante.tsFechaIngreso"   			column="pFECHAINGRESO_D" />
     <result property="cuentaIntegrante.tsFechaRenuncia"   			column="pFECHARENUNCIA_D" />
     <result property="cuentaIntegrante.intPersonaUsuario"   		column="pPERS_PERSONAUSUARIO_N" />
     <result property="cuentaIntegrante.intPersonaFecRenuncia"   	column="pPERS_PERSONAFECRENUNCIA_N" />
  </resultMap>
  
  <parameterMap id="parPorSocTipYSitCta" class="java.util.Map">
   	 <parameter property="cursorLista" 					javaType="java.sql.ResultSet" jdbcType="ORACLECURSOR" mode="OUT"/>
   	 <parameter property="intPersEmpresaPk" 			javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intCuenta" 					javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intPersonaIntegrante" 		javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intParaTipoCuentaCod" 		javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intParaSituacionCuentaCod" 	javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
  </parameterMap>  
  
  <procedure id="getCtaIntYCtaXSocTipYSitCta" parameterMap="parPorSocTipYSitCta" resultMap="resCuentaComp">
	{ call PKG_CUENTAINTEGRANTE.getCtaIntYCtaXSocTipYSitCta(?,?,?,?,?,?) }
  </procedure>  
</sqlMap>