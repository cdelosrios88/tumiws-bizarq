<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" 
	"http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap namespace="ExpedienteLiquidacionDaoIbatis">

  <typeAlias type="pe.com.tumi.servicio.prevision.domain.ExpedienteLiquidacion" alias="ExpedienteLiquidacion"/> 
  <typeAlias type="pe.com.tumi.servicio.prevision.domain.composite.RequisitoLiquidacionComp" alias="RequisitoLiquidacionComp"/>
	
  <resultMap id="resExpedienteLiquidacion" class="ExpedienteLiquidacion" >
  	 <result property="id.intPersEmpresaPk"  		column="pEmpresaliquidacion"/>
  	 <result property="id.intItemExpediente"  		column="pItemexpedienteliqui"/>
  	 <result property="intParaDocumentoGeneral"  	column="pDocumentogeneral"/>
  	 <result property="intParaSubTipoOperacion"  	column="pSubtipooperacion"/>
     <result property="dtFechaRenuncia"  			column="pFecharenuncia"/>
     <result property="dtFechaProgramacion"  		column="pFechaprogramacion"/>
     <result property="intPeriodoUltimoDescuento"   column="pPeriodoultimodescuento"/>
     <result property="bdMontoBrutoLiquidacion"    	column="pMontobrutoliquidacion"/>
     <result property="intParaMotivoRenuncia"    	column="pMotivorenuncia"/>
     <result property="strObservacion"    			column="pObservacion"/>
     <result property="intSucuIdSucursal"    		column="pIdsucursal"/>
     <result property="intSudeIdsubsucursal"    	column="pIdsubsucursal"/>
     <result property="dtFechaRecepcion"    		column="pFechaRecepcion"/>
     
     <result property="intPersEmpresaSucAdministra" 	column="pPERS_EMPSUCADM_N_PK" />
     <result property="intSucuIdSucursalAdministra" 	column="pSUCU_IDSUCADM_N_PK" />
     <result property="intSudeIdSubSucursalAdministra"  column="pSUDE_IDSUBSUCADM_N" />
  </resultMap>
  
  
    <resultMap id="resExpedienteLiquidacionBusq" class="ExpedienteLiquidacion" >
  	 <result property="id.intPersEmpresaPk"  			column="pEmpresaliquidacion"/>
  	 <result property="id.intItemExpediente"  			column="pItemexpedienteliqui"/>
  	 <result property="intParaDocumentoGeneral"  		column="pDocumentogeneral"/>
  	 <result property="intParaSubTipoOperacion"  		column="pSubtipooperacion"/>
     <result property="dtFechaRenuncia"  				column="pFecharenuncia"/>
     <result property="dtFechaProgramacion"  			column="pFechaprogramacion"/>
     <result property="intPeriodoUltimoDescuento"   	column="pPeriodoultimodescuento"/>
     <result property="bdMontoBrutoLiquidacion"    		column="pMontobrutoliquidacion"/>
     <result property="intParaMotivoRenuncia"    		column="pMotivorenuncia"/>
     <result property="strObservacion"    				column="pObservacion"/>
     <result property="intSucuIdSucursal"    			column="pIdsucursal"/>
     <result property="intSudeIdsubsucursal"    		column="pIdsubsucursal"/>
     <result property="dtFechaRecepcion"    			column="pFechaRecepcion"/>
     <result property="intPersEmpresaSucAdministra" 	column="pPERS_EMPSUCADM_N_PK" />
     <result property="intSucuIdSucursalAdministra" 	column="pSUCU_IDSUCADM_N_PK" />
     <result property="intSudeIdSubSucursalAdministra"  column="pSUDE_IDSUBSUCADM_N" />
     <result property="intItemEstadoUltimo"  			column="pCSER_ITEMESTADO_N_ULT" />
     <result property="intEstadoCreditoUltimo"  		column="pPARA_ESTADOCREDITO_N_COD_ULT" />
     <result property="intSucursalEstadoUltimo"  		column="pSUCU_IDUSUSUCURSAL_N_PK_ULT" />
     <result property="intItemEstadoInicial"  			column="pCSER_ITEMESTADO_N_INI" />
     <result property="intEstadoCreditoInicial"  		column="pPARA_ESTADOCREDITO_N_COD_INI" />
     <result property="intSucursalEstadoInicial"  		column="pSUCU_IDUSUSUCURSAL_N_PK_INI" />
     <result property="strNroCuentaExpediente"  		column="pCUEN_NROCUENTA_V" />
     <result property="strNombreCompletoPersona"  		column="pNATU_NOMBRE_PERSONA" />
  </resultMap>
  
  <resultMap id="resRequisitoParaGiro" class="RequisitoLiquidacionComp" >
     <result property="intEmpresa"	    			column="pEMPRESA"/>
     <result property="intItemRequisito"	    	column="pITEMREQAUT"/>
     <result property="intItemRequisitoDetalle"	    column="pITEMREQAUTDETALLE"/>
     <result property="strDescripcionRequisito"	    column="pDESCRIPCION"/>
     <result property="intParaTipoOperacion"	    column="pOPERACION"/>
     <result property="intParaSubTipoOperacion"	    column="pSUBOPERACION"/>
  </resultMap>    

  <parameterMap id="parExpedienteLiquidacion" class="ExpedienteLiquidacion">
     <parameter property="id.intPersEmpresaPk"			jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
     <parameter property="id.intItemExpediente"			jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
     <parameter property="intParaDocumentoGeneral"		jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
     <parameter property="intParaSubTipoOperacion"		jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
	 <parameter property="dtFechaRenuncia"				jdbcType="DATE"  		javaType="java.util.Date" 		mode="INOUT"/>    
     <parameter property="dtFechaProgramacion" 			jdbcType="DATE"  		javaType="java.util.Date" 		mode="INOUT"/>  
     <parameter property="intPeriodoUltimoDescuento" 	jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
     <parameter property="bdMontoBrutoLiquidacion" 		jdbcType="NUMERIC"  	javaType="java.math.BigDecimal" mode="INOUT"/>
     <parameter property="intParaMotivoRenuncia" 		jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
     <parameter property="strObservacion"				jdbcType="VARCHAR"  	javaType="java.lang.String" 	mode="INOUT"/>
	 <parameter property="intSucuIdSucursal"			jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>    
     <parameter property="intSudeIdsubsucursal" 		jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
     <parameter property="dtFechaRecepcion" 			jdbcType="DATE"  		javaType="java.util.Date" 		mode="INOUT"/>
  
   	 <parameter property="intPersEmpresaSucAdministra" 		jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
     <parameter property="intSucuIdSucursalAdministra" 		jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
     <parameter property="intSudeIdSubSucursalAdministra" 	jdbcType="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
  </parameterMap>
  
  <parameterMap id="parPorPk" class="java.util.Map">
   	 <parameter property="cursorLista" 					javaType="java.sql.ResultSet" jdbcType="ORACLECURSOR"  mode="OUT"/>
   	 <parameter property="intPersEmpresaPk" 			javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intItemExpediente"			javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
  </parameterMap>
  
  <parameterMap id="parPorFiltros" class="java.util.Map">
   	 <parameter property="cursorLista" 					javaType="java.sql.ResultSet" jdbcType="ORACLECURSOR"  mode="OUT"/>
   	 <parameter property="intItemExpediente"			javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intParaSubTipoOperacion"		javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
  </parameterMap>
  
  <parameterMap id="parPorCuenta" class="java.util.Map">
  	 <parameter property="cursorLista" 					javaType="java.sql.ResultSet"  jdbcType="ORACLECURSOR" 	mode="OUT"/>
   	 <parameter property="intPersEmpresa"				javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intCuenta"					javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
  </parameterMap>
  
  
   <parameterMap id="parPorLiquidacionCompBusqueda2" class="java.util.Map">
   	 <parameter property="cursorLista" 					javaType="java.sql.ResultSet" jdbcType="ORACLECURSOR"  mode="OUT"/>
   	 <parameter property="intBusqTipo" 					javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="strBusqCadena" 				javaType="java.lang.String"   jdbcType="VARCHAR" 	   mode="IN"/>
   	 <parameter property="strBusqNroSol" 				javaType="java.lang.String"   jdbcType="VARCHAR" 	   mode="IN"/>
   	 <parameter property="intBusqSucursal" 				javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intBusqEstado" 				javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="dtBusqFechaEstadoDesde" 		javaType="java.util.Date"     jdbcType="DATE" 	   	   mode="IN"/>
   	 <parameter property="dtBusqFechaEstadoHasta" 		javaType="java.util.Date"     jdbcType="DATE" 	   	   mode="IN"/>
   	 <parameter property="intBusqTipoLiquidacion"		javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
  </parameterMap>
  
  <parameterMap id="parPorSubope" class="java.util.Map">
   	 <parameter property="cursorLista" 					javaType="java.sql.ResultSet" jdbcType="ORACLECURSOR"  mode="OUT"/>
   	 <parameter property="intEmpresa" 					javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intParaSubTipoOperacion" 		javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
  </parameterMap>
  
  <!-- Autor: jchavez / Tarea: Creación / Fecha: 09.12.2014 -->
  <parameterMap id="parPorCuenta2" class="java.util.Map">
   	 <parameter property="intCorrespondePrevision" 		javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="OUT"/>
   	 <parameter property="intEmpresa" 					javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
   	 <parameter property="intCuenta" 					javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
  </parameterMap>
    
  <procedure id="grabar" parameterMap="parExpedienteLiquidacion">
	{ call PKG_EXPEDIENTELIQUIDACION.grabar(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) }
  </procedure>
  
  <procedure id="modificar" parameterMap="parExpedienteLiquidacion">
	{ call PKG_EXPEDIENTELIQUIDACION.modificar(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) }
  </procedure>
  
  <procedure id="getListaPorPk" parameterMap="parPorPk" resultMap="resExpedienteLiquidacion">
	{ call PKG_EXPEDIENTELIQUIDACION.getListaPorPk(?,?,?)}
  </procedure>
  
   <procedure id="getListaCompleta" parameterMap="parPorPk" resultMap="resExpedienteLiquidacion">
	{ call PKG_EXPEDIENTELIQUIDACION.getListaCompleta(?,?,?)}
  </procedure>
  
     <procedure id="getListaCompletaFiltros" parameterMap="parPorFiltros" resultMap="resExpedienteLiquidacion">
	{ call PKG_EXPEDIENTELIQUIDACION.getListaCompletaFiltros(?,?,?)}
  </procedure>

  <procedure id="getListaPorEmpresaYCuenta" parameterMap="parPorCuenta" resultMap="resExpedienteLiquidacion">
	{ call PKG_EXPEDIENTELIQUIDACION.getListaPorEmpresaYCuenta(?,?,?)}
  </procedure>

  <procedure id="getListaBusqExpLiqFiltros" parameterMap="parPorLiquidacionCompBusqueda2" resultMap="resExpedienteLiquidacionBusq">
	{ call PKG_EXPEDIENTELIQUIDACION.getListaBusqExpLiqFiltros(?,?,?,?,?,?,?,?,?)}
  </procedure>
  
    <procedure id="getListaBusqAutLiqFiltros" parameterMap="parPorLiquidacionCompBusqueda2" resultMap="resExpedienteLiquidacionBusq">
	{ call PKG_EXPEDIENTELIQUIDACION.getListaBusqAutLiqFiltros(?,?,?,?,?,?,?,?,?)}
  </procedure>
  
  <!-- Autor: jchavez / Tarea: Creación / Fecha: 06.12.2014 -->
  <procedure id="getRequisitoGiroLiquidacion" parameterMap="parPorSubope" resultMap="resRequisitoParaGiro">
	{ call PKG_EXPEDIENTELIQUIDACION.getRequisitoGiroLiquidacion(?,?,?) }
  </procedure>    
  
  <!-- Autor: jchavez / Tarea: Creación / Fecha: 09.12.2014 -->
  <procedure id="getCorrespondePrevision" parameterMap="parPorCuenta2">
	{ call PKG_EXPEDIENTELIQUIDACION.getCorrespondePrevision(?,?,?) }
  </procedure>
</sqlMap>