<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" 
	"http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="AutorizaPrevisionDaoIbatis">
	<typeAlias type="pe.com.tumi.servicio.prevision.domain.AutorizaPrevision"  alias="AutorizaPrevision" />
		<resultMap id="resAutorizaPrevision" class="AutorizaPrevision" >
			<result property="id.intPersEmpresaPrevisionPk" column="pPERS_EMPRESAPREVISION_N_PK"/>
			<result property="id.intCuentaPk" 				column="pCSOC_CUENTA_N_PK"/>
			<result property="id.intItemExpediente" 		column="pCSER_ITEMEXPEDIENTEPS_N"/>
			<result property="id.intItemAutoriza" 			column="pCSER_ITEMAUTORIZA_N"/>
			<result property="intPersEmpresaPk" 			column="pPERS_EMPRESA_N_PK"/>
			<result property="intPersEmpresaAutoriza" 		column="pPERS_EMPRESAAUTORIZA_N_PK"/>
			<result property="intParaEstadoAutorizar" 		column="pPARA_ESTADOAUTORIZAR_N_COD"/>
			<result property="intParaTipoAureobCod" 		column="pPARA_TIPOAUREOB_N_COD"/>
			<result property="intPersUsuarioAutoriza" 		column="pPERS_USUARIOAUTORIZA_N_PK"/>
			<result property="intIdPerfilAutoriza" 			column="pPERF_IDPERFIL_N_PK"/>
			<result property="tsFechaAutorizacion" 			column="pAUCR_FECHAAUTORIZACION_D"/>
			<result property="strObservacion" 				column="pAUCR_OBSERVACION_V"/>
			<result property="intParaEstado" 				column="pPARA_ESTADO_N_COD"/>
		</resultMap>
		
		<parameterMap id="parAutorizaPrevision" class="AutorizaPrevision">
			<parameter property="id.intPersEmpresaPrevisionPk"  jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="id.intCuentaPk" 				jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="id.intItemExpediente" 			jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="id.intItemAutoriza" 			jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="intPersEmpresaPk" 				jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="intParaEstadoAutorizar" 		jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="intParaTipoAureobCod" 			jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="intPersEmpresaAutoriza" 		jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="intPersUsuarioAutoriza" 		jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="intIdPerfilAutoriza" 			jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			<parameter property="tsFechaAutorizacion" 			jdbcType ="TIMESTAMP"  	javaType="java.sql.Timestamp" 	mode="INOUT"/>
			<parameter property="strObservacion" 				jdbcType ="VARCHAR"  	javaType="java.lang.String" 	mode="INOUT"/>
			<parameter property="intParaEstado" 				jdbcType ="NUMERIC"  	javaType="java.lang.Integer" 	mode="INOUT"/>
			
		</parameterMap>
		
		<parameterMap id="parPorPk" class="java.util.Map">
			<parameter property="cursorLista" 					javaType="java.sql.ResultSet" 	jdbcType="ORACLECURSOR"  	mode="OUT"/>
			<parameter property="intPersEmpresaPrevisionPk"  	javaType="java.lang.Integer"  	jdbcType="NUMERIC"			mode="IN"/>
			<parameter property="intCuentaPk" 					javaType="java.lang.Integer"	jdbcType="NUMERIC" 			mode="IN"/>
			<parameter property="intItemExpediente" 			javaType="java.lang.Integer" 	jdbcType="NUMERIC" 			mode="IN"/>
			<parameter property="intItemAutoriza" 				javaType="java.lang.Integer"  	jdbcType="NUMERIC" 			mode="IN"/>
		</parameterMap>
		
		<parameterMap id="parPorPkExpedientePrevision" class="java.util.Map">
		   	 <parameter property="cursorLista" 					javaType="java.sql.ResultSet" jdbcType="ORACLECURSOR"  mode="OUT"/>
		   	 <parameter property="intPersEmpresaPrevisionPk" 	javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
		   	 <parameter property="intCuentaPk" 					javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
		   	 <parameter property="intItemExpediente" 			javaType="java.lang.Integer"  jdbcType="NUMERIC" 	   mode="IN"/>
	  	</parameterMap>


		<procedure id="grabar" parameterMap="parAutorizaPrevision">
			{ call PKG_CSE_AUTORIZAPREVISION.grabar(?,?,?,?,?,?,?,?,?,?,?,?,?)}
		</procedure>	
		<procedure id="modificar" parameterMap="parAutorizaPrevision" >
			{ call PKG_CSE_AUTORIZAPREVISION.modificar(?,?,?,?,?,?,?,?,?,?,?,?,?)}
		</procedure>	
		<procedure id="getListaPorPk" parameterMap="parPorPk" resultMap="resAutorizaPrevision">
			{ call PKG_CSE_AUTORIZAPREVISION.getListaPorPk(?,?,?,?,?) }
		</procedure>
		<procedure id="getListaPorExpedientePrevision" parameterMap="parPorPkExpedientePrevision" resultMap="resAutorizaPrevision">
			{ call PKG_CSE_AUTORIZAPREVISION.getListaPorExpedientePrevision(?,?,?,?) }
		</procedure>


</sqlMap>
