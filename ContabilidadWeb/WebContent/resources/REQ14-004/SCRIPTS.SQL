/*ALTER TABLE CONTABILIDAD.CON_LIBROMAYOR_HISTORICO
 DROP PRIMARY KEY CASCADE;

DROP TABLE CONTABILIDAD.CON_LIBROMAYOR_HISTORICO CASCADE CONSTRAINTS;*/

CREATE TABLE CON_LIBROMAYOR_HISTORICO
(
  PERS_EMPRESAMAYOR_N_PK     NUMBER(7)          NOT NULL,
  CONT_PERIODOMAYOR_N        NUMBER(4)          NOT NULL,
  CONT_MESMAYOR_N            NUMBER(9)          NOT NULL,
  CONT_LIBROMAYOR_HIST_N_PK  NUMBER(7)          NOT NULL,
  LIMA_FECHAREGISTRO_D       TIMESTAMP(6)       NOT NULL,
  PARA_ESTADO_N_COD    		 NUMBER(3)          NOT NULL,
  PARA_ESTADOCIERRE_N_COD    NUMBER(3)          NOT NULL,
  PERS_EMPRESAUSUARIO_N_PK   NUMBER(7)          NOT NULL,
  PERS_PERSONAUSUARIO_N_PK   NUMBER(7)          NOT NULL,
  PERS_PERSUSUARIOELIMINA_N_PK   NUMBER(7)          NOT NULL,
  CONT_FECHA_ELIMINA_HIST_D  NUMBER(7)          NOT NULL,
  CONT_IP_ELIMINA_HIST_D     NUMBER(3)          NOT NULL
)
TABLESPACE SYSTEM
PCTUSED    40
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            FREELISTS        1
            FREELIST GROUPS  1
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;

COMMENT ON COLUMN CONTABILIDAD.CON_LIBROMAYOR_HISTORICO.PERS_EMPRESAMAYOR_N_PK IS 'Campo donde se almacena el ID de la tabla SEG_M_Empresa.';

COMMENT ON COLUMN CONTABILIDAD.CON_LIBROMAYOR_HISTORICO.CONT_PERIODOMAYOR_N IS 'Almacena el a?o de cada registro por empresa.';

COMMENT ON COLUMN CONTABILIDAD.CON_LIBROMAYOR_HISTORICO.CONT_MESMAYOR_N IS 'Almacena un valor del mes del que se esta cerrando por empresa y periodo.';

COMMENT ON COLUMN CONTABILIDAD.CON_LIBROMAYOR_HISTORICO.LIMA_FECHAREGISTRO_D IS 'Almacena la fecha en que se ejecuto la mayorizacion.';

COMMENT ON COLUMN CONTABILIDAD.CON_LIBROMAYOR_HISTORICO.PARA_ESTADOCIERRE_N_COD IS 'Almacena el estado del proceso de cierre puede ser pendiente (0) o cerrando (1).';



CREATE UNIQUE INDEX CONTABILIDAD.XPKCON_LIBROMAYOR_HISTORICO ON CONTABILIDAD.CON_LIBROMAYOR_HISTORICO
(CONT_LIBROMAYOR_HIST_N_PK)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


ALTER TABLE CONTABILIDAD.CON_LIBROMAYOR_HISTORICO ADD (
  CONSTRAINT XPKCON_LIBROMAYOR_HISTORICO
  PRIMARY KEY
  (CONT_LIBROMAYOR_HIST_N_PK)
  USING INDEX CONTABILIDAD.XPKCON_LIBROMAYOR_HISTORICO);