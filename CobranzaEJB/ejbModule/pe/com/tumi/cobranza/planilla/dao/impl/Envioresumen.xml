<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" 
	"http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap namespace="EnvioresumenDaoIbatis">

  <typeAlias type="pe.com.tumi.cobranza.planilla.domain.Envioresumen" alias="Envioresumen"/> 
	
  <resultMap id="resEnvioresumen" class="Envioresumen" >
	<result property="id.intEmpresaPk"   					column="pPERS_EMPRESA_N_PK" />
	<result property="id.intItemenvioresumen"   			column="pCCOB_ITEMENVIORESUMEN_N" />
    <result property="intDocumentogeneralCod"      			column="pPARA_DOCUMENTOGENERAL_N_COD" />
    <result property="intPeriodoplanilla"      				column="pENRE_PERIODOPLANILLA_N" />
    <result property="bdMontototal"      					column="pENRE_MONTOTOTAL_N" />
    <result property="bdMontototalinflada"      			column="pENRE_MONTOTOTALINFLADA_N" />
    <result property="intNumeroafectados"      				column="pENRE_NUMEROAFECTADOS_N" />
    <result property="intTiposocioCod"      				column="pPARA_TIPOSOCIO_N_COD" />
    <result property="intModalidadCod"      				column="pPARA_MODALIDAD_N_COD" />
    <result property="intNivel"      						column="pCSOC_NIVEL_N" />
    <result property="intCodigo"      						column="pCSOC_CODIGO_N" />
    <result property="intIdsucursalprocesaPk"      			column="pSUCU_IDSUCURSALPROCESA_N_PK" />
    <result property="intIdsubsucursalprocesaPk"    		column="pIDSUBSUCURSALPROCESA_N_PK" />
    <result property="intIdsucursaladministraPk"    		column="pIDSUCURSALADMINISTRA_N_PK" />
    <result property="intIdsubsucursaladministra"   		column="pIDSUBSUCURSALADMINISTRA_N" />
    <result property="intEstadoCod"      					column="pPARA_ESTADO_N_COD" />
    <result property="tsFecharegistro"      				column="pENRE_FECHAREGISTRO_D" />
    <result property="intPersonausuarioPk"      			column="pPERS_PERSONAUSUARIO_N_PK" />
    <result property="tsFechaeliminacion"      				column="pENRE_FECHAELIMINACION_D" />
    <result property="intPersonaeliminaPk"      			column="pPERS_PERSONAELIMINA_N_PK" />
    <result property="intTipoeliminacionplCod"      		column="pPARA_TIPOELIMINACIONPL_N_COD" />
    <result property="strObservacion"      					column="pENRE_OBSERVACION_V" />
    <result property="intEmpresalibroPk"      				column="pPERS_EMPRESALIBRO_N_PK" />
    <result property="intPeriodolibro"      				column="pCONT_PERIODOLIBRO_N" />
    <result property="intCodigolibro"      					column="pCONT_CODIGOLIBRO_N" />
    <result property="envioResumen.id.intEmpresaPk"      	column="pPers_Empresaan_n_Pk" />
    <result property="envioResumen.id.intItemenvioresumen"  column="pCcob_Itemenvioresumenan_n" />
  </resultMap>
  
  <resultMap id="resEnvioresumenItem" class="Envioresumen" >
  	<result property="id.intItemenvioresumen"   			column="pCCOB_ITEMENVIORESUMEN_N" />  	
  </resultMap>
  
  <resultMap id="resEnvioresumenWithFile" class="Envioresumen" >
    <result property="id.intEmpresaPk"   					column="pPERS_EMPRESA_N_PK" />
  	<result property="id.intItemenvioresumen"   			column="pCCOB_ITEMENVIORESUMEN_N" />
  	<result property="intPeriodoplanilla"      				column="pENRE_PERIODOPLANILLA_N" />
  	<result property="intNumeroafectados"      				column="pENRE_NUMEROAFECTADOS_N" />
  	<result property="intIdsucursaladministraPk"    		column="pIDSUCURSALADMINISTRA_N_PK" />
    <result property="intIdsubsucursaladministra"   		column="pIDSUBSUCURSALADMINISTRA_N" />
    <result property="intIdsucursalprocesaPk"      			column="pSUCU_IDSUCURSALPROCESA_N_PK" />
    <result property="intIdsubsucursalprocesaPk"    		column="pIDSUBSUCURSALPROCESA_N_PK" />
  </resultMap>
  
   <resultMap id="resERPeriodoNivelCodigo" class="Envioresumen" >
   	<result property="intPeriodoplanilla"      				column="pENRE_PERIODOPLANILLA_N" />
   	<result property="intNivel"      						column="pCSOC_NIVEL_N" />
    <result property="intCodigo"      						column="pCSOC_CODIGO_N" />
  </resultMap>
  
  <resultMap id="resEnvioresumenSucursal" class="Envioresumen" >
   <result property="intIdsucursalprocesaPk"      			column="pSUCU_IDSUCURSALPROCESA_N_PK" />
  </resultMap>
  
  <parameterMap id="parEnvioresumen" class="Envioresumen">
	 <parameter property="id.intEmpresaPk"						javaType="java.lang.Integer"	jdbcType="NUMERIC"		mode="INOUT"/>
	 <parameter property="id.intItemenvioresumen"				javaType="java.lang.Integer"	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intDocumentogeneralCod"				javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intPeriodoplanilla"					javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="bdMontototal"							javaType="java.math.BigDecimal" jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="bdMontototalinflada"					javaType="java.math.BigDecimal" jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intNumeroafectados"					javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intTiposocioCod"						javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intModalidadCod"						javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intNivel"								javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intCodigo"							javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intIdsucursalprocesaPk"				javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intIdsubsucursalprocesaPk"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intIdsucursaladministraPk"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intIdsubsucursaladministra"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intEstadoCod"							javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="tsFecharegistro"						javaType="java.sql.Timestamp" 	jdbcType="TIMESTAMP"	mode="INOUT"/>
     <parameter property="intPersonausuarioPk"					javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="tsFechaeliminacion"					javaType="java.sql.Timestamp" 	jdbcType="TIMESTAMP"	mode="INOUT"/>
     <parameter property="intPersonaeliminaPk"					javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intTipoeliminacionplCod"				javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="strObservacion"						javaType="java.lang.String" 	jdbcType="VARCHAR"		mode="INOUT"/>
     <parameter property="intEmpresalibroPk"					javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intPeriodolibro"						javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="intCodigolibro"						javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="envioResumen.id.intEmpresaPk"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
     <parameter property="envioResumen.id.intItemenvioresumen"	javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="INOUT"/>
  </parameterMap>
  
  <parameterMap id="parPorPk" class="java.util.Map">
   	 <parameter property="cursorLista" 							javaType="java.sql.ResultSet" 	jdbcType="ORACLECURSOR" mode="OUT"/>
	 <parameter property="intItemenvioresumen"					javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intEmpresaPk"							javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
  </parameterMap>
  
  <parameterMap id="parPorEnitdadyPeriodo" class="java.util.Map">
   	 <parameter property="cursorLista" 				javaType="java.sql.ResultSet" 	jdbcType="ORACLECURSOR" mode="OUT"/>
	 <parameter property="intEmpresaPk"				javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intPeriodoplanilla"		javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intTiposocioCod"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intModalidadCod"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intNivel"					javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intCodigo"				javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
  </parameterMap>
  
  <parameterMap id="parConSucursalProcesa" class="java.util.Map">
   	 <parameter property="cursorLista" 				javaType="java.sql.ResultSet" 	jdbcType="ORACLECURSOR" mode="OUT"/>
	 <parameter property="intEmpresaPk"				javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intPeriodoplanilla"		javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intTiposocioCod"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intModalidadCod"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intIdsucursalprocesaPk"	javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>	
	  <parameter property="intEstado"				javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>	
  </parameterMap>
  
  <parameterMap id="parPorSocioModalidad" class="java.util.Map">
   	 <parameter property="cursorLista" 				javaType="java.sql.ResultSet" 	jdbcType="ORACLECURSOR" mode="OUT"/>
	 <parameter property="intEmpresaPk"				javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>	
	 <parameter property="intTiposocioCod"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intModalidadCod"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>	 
  </parameterMap>
  
  <parameterMap id="parPorSocioModalidadSucursal" class="java.util.Map">
   	 <parameter property="cursorLista" 				javaType="java.sql.ResultSet" 	jdbcType="ORACLECURSOR" mode="OUT"/>
	 <parameter property="intEmpresaPk"				javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>	
	 <parameter property="intTiposocioCod"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>
	 <parameter property="intModalidadCod"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>	
	 <parameter property="intSucursalCod"			javaType="java.lang.Integer" 	jdbcType="NUMERIC"		mode="IN"/>	 
  </parameterMap>
  
  
	<parameterMap id="parPorEmpresaYEstructuraYTipoSocio" class="java.util.Map">
   	 <parameter property="intEmpresacuentaPk"		javaType="java.lang.Integer" jdbcType="NUMERIC"	mode="IN"/>
   	 <parameter property="intNivel"					javaType="java.lang.Integer" jdbcType="NUMERIC"	mode="IN"/>
	 <parameter property="intCodigo"				javaType="java.lang.Integer" jdbcType="NUMERIC"	mode="IN"/>
	 <parameter property="intTiposocioCod"			javaType="java.lang.Integer" jdbcType="NUMERIC"	mode="IN"/>
	 <parameter property="intEscalar" 				javaType="java.lang.Integer" jdbcType="NUMERIC" mode="OUT"/>
  </parameterMap>
  
   <parameterMap id="parNivelTipoModalidad" class="java.util.Map">
  	<parameter property="intEmpresacuentaPk" 		javaType="java.lang.Integer" jdbcType="NUMERIC" mode="IN"/>
  	<parameter property="intNivel" 					javaType="java.lang.Integer" jdbcType="NUMERIC" mode="IN"/>
  	<parameter property="intCodigo" 				javaType="java.lang.Integer" jdbcType="NUMERIC" mode="IN"/>
  	<parameter property="intTiposocioCod" 			javaType="java.lang.Integer" jdbcType="NUMERIC" mode="IN"/>
  	<parameter property="intModalidad" 				javaType="java.lang.Integer" jdbcType="NUMERIC" mode="IN"/>
  	<parameter property="intEscalar" 				javaType="java.lang.Integer" jdbcType="NUMERIC" mode="OUT"/>
  </parameterMap>
  
   <parameterMap id="parPorEmpresaYEstructuraYTipoSocioYModalidad" class="java.util.Map">
   	 <parameter property="intEmpresacuentaPk"		javaType="java.lang.Integer" jdbcType="NUMERIC"	mode="IN"/>
   	 <parameter property="intNivel"					javaType="java.lang.Integer" jdbcType="NUMERIC"	mode="IN"/>
	 <parameter property="intCodigo"				javaType="java.lang.Integer" jdbcType="NUMERIC"	mode="IN"/>
	 <parameter property="intTiposocioCod"			javaType="java.lang.Integer" jdbcType="NUMERIC"	mode="IN"/>	
	 <parameter property="intEscalar" 				javaType="java.lang.Integer" jdbcType="NUMERIC" mode="OUT"/>
  </parameterMap>
  	
  <parameterMap  id="parEmpNivelCodigoTipoMod" class="java.util.Map">
	  <parameter property="cursorLista" 	javaType="java.sql.ResultSet" 	jdbcType="ORACLECURSOR" mode="OUT"/>
	  <parameter property="intEmpresa" 		javaType="java.lang.Integer" 	jdbcType="NUMERIC" mode="IN"/>
	  <parameter property="intNivel" 		javaType="java.lang.Integer" 	jdbcType="NUMERIC" mode="IN"/>
	  <parameter property="intCodigo" 		javaType="java.lang.Integer" 	jdbcType="NUMERIC" mode="IN"/>
	  <parameter property="intTipoSocio" 	javaType="java.lang.Integer" 	jdbcType="NUMERIC" mode="IN"/>
	  <parameter property="intModalidad" 	javaType="java.lang.Integer" 	jdbcType="NUMERIC" mode="IN"/>
  </parameterMap>	
  	
  <procedure id="grabar" parameterMap="parEnvioresumen">
	{ call PKG_ENVIORESUMEN.grabar(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) }  
  </procedure>
  
  <procedure id="modificar" parameterMap="parEnvioresumen" >
	{ call PKG_ENVIORESUMEN.modificar(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) }  
  </procedure>
  
  <procedure id="getListaPorPk" parameterMap="parPorPk" resultMap="resEnvioresumen">
	{ call PKG_ENVIORESUMEN.getListaPorPk(?,?,?) }
  </procedure>
  
  <procedure id="getListaPorEnitdadyPeriodo" parameterMap="parPorEnitdadyPeriodo" resultMap="resEnvioresumenItem">
	{ call PKG_ENVIORESUMEN.getListaPorEnitdadyPeriodo(?,?,?,?,?,?,?) }
  </procedure>
    
   <procedure id="getListaEnvioResumen" parameterMap="parConSucursalProcesa" resultMap="resEnvioresumen">
	{ call PKG_ENVIORESUMEN.getLEnvioRBusqueda(?,?,?,?,?,?,?) }
  </procedure>
  
   <procedure id="getListaSucursal" parameterMap="parPorSocioModalidad" resultMap="resEnvioresumenSucursal">
	{ call PKG_ENVIORESUMEN.getListaSucursalProcesa(?,?,?,?) }
  </procedure>
  
  <procedure id="getListaEnvioResumenUE" parameterMap="parPorSocioModalidadSucursal" resultMap="resERPeriodoNivelCodigo">
	{ call PKG_ENVIORESUMEN.getListaEnvioResumenUE(?,?,?,?,?) }
  </procedure>
	
 <procedure id="getMaxPerPorEmpYEstYTipSoc" parameterMap="parPorEmpresaYEstructuraYTipoSocio">
	{ call PKG_ENVIORESUMEN.getMaxPerPorEmpYEstYTipSoc(?,?,?,?,?) }
 </procedure>
 
  <procedure id="getMaxPerPorEmpYEstYTipSocM" parameterMap="parNivelTipoModalidad">
	{ call PKG_ENVIORESUMEN.getMaxPerPorEmpYEstYTipSocM(?,?,?,?,?,?) }
  </procedure>
  
  <procedure id="getMaxPerPorEmpYEstYTipSocCAS" parameterMap="parPorEmpresaYEstructuraYTipoSocioYModalidad">
	{ call PKG_ENVIORESUMEN.getMaxPerPorEmpYEstYTipSocCAS(?,?,?,?,?) }
  </procedure>
  
  <procedure id="getEfectuadoConArchivo" parameterMap="parEmpNivelCodigoTipoMod" resultMap="resEnvioresumenWithFile">
  	{  call PKG_ENVIORESUMEN.getEfectuadoConArchivo(?,?,?,?,?,?)}
  </procedure>
  
  <procedure id="getListEnvRes" parameterMap="parPorEnitdadyPeriodo" resultMap="resEnvioresumen">
	{ call PKG_ENVIORESUMEN.getListEnvRes(?,?,?,?,?,?,?) }
  </procedure>
    		
</sqlMap>  
