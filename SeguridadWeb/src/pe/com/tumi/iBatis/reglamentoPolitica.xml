<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" 
	"http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap>
    <typeAlias type="pe.com.tumi.seguridad.domain.ReglamentoPolitica" alias="RegPol"/>
    
    <resultMap id="regpol.domain.regpol.resultRegPol" class="RegPol" >
    	 <result property="intIdPerfil"    			column="ID_PERFIL" />
	     <result property="strPerfil"  				column="DESC_PERFIL" />
	     <result property="strReglamento"  			column="REGLAMENTO" />
	     <result property="strPolitica"  			column="POLITICA" />
	     <result property="intIdEmpresa"  			column="ID_EMPRESA" />
	     <result property="strIdTransaccion"    	column="ID_TRANSACCION" />
	     <result property="strIdTransaccionPadre"   column="ID_TRANSACCIONPADRE" />
	     <result property="strTransaccion"  		column="DESC_TRANSACCION" />
	     <result property="intIdEstado"   			column="ESTADO" />
	     <result property="intNivelMenu"   			column="NIVEL_TRANSACCION" />
	     <result property="intOrdenMenu"   			column="ORDEN_TRANSACCION" />	     
    </resultMap>
    
    <parameterMap id="prmtListaRegPol" class="java.util.Map">
    	 <parameter property="cursorLista" 			javaType="java.sql.ResultSet" 	jdbcType="ORACLECURSOR" 		mode="OUT"/>
    	 <parameter property="pIntIdEmpresa"	 	jdbcType="NUMERIC" 				javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="pIntIdPerfil"	 		jdbcType="NUMERIC" 				javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="pStrIdTransaccion"	jdbcType="VARCHAR" 				javaType="java.lang.String" 	mode="IN"/>
    	 <parameter property="pIntIdEstado"	 		jdbcType="NUMERIC" 				javaType="java.lang.Integer" 	mode="IN"/>
    </parameterMap>
    
    <parameterMap id="regpol.domain.regpol.prmtGrabarRegPol" class="java.util.Map">
    	 <parameter property="intIdEmpresa"	 			jdbcType="NUMERIC"			javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="intIdEstado"	 			jdbcType="NUMERIC"			javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="intPerfilTodos"	 		jdbcType="NUMERIC"			javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="intIdPerfil"	 			jdbcType="NUMERIC"			javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="strIdTransaccion"	 		jdbcType="VARCHAR"			javaType="java.lang.String" 	mode="IN"/>
    	 <parameter property="intIdTipoDocumento"		jdbcType="NUMERIC"			javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="strArchivo"	 			jdbcType="VARCHAR"			javaType="java.lang.String" 	mode="IN"/>
    	 <parameter property="intIdEmpUsu"				jdbcType="NUMERIC"			javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="intIdUsuario"	 			jdbcType="NUMERIC"			javaType="java.lang.Integer" 	mode="IN"/>
    </parameterMap>
    
    <parameterMap id="prmtEliminarRegPol" class="RegPol">
    	 <parameter property="intIdEmpresa"	 			jdbcType="NUMERIC"			javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="intIdPerfil"	 			jdbcType="NUMERIC"			javaType="java.lang.Integer" 	mode="IN"/>
    	 <parameter property="strIdTransaccion"	 		jdbcType="VARCHAR"			javaType="java.lang.String" 	mode="IN"/>
    </parameterMap>
    
    
	<procedure id="regpol.domain.regpol.getListaRegPol" parameterMap="prmtListaRegPol" resultMap="regpol.domain.regpol.resultRegPol">
		{ call PKG_TUMI.listar_reglamentomenu( ?, ?, ?, ?, ? ) }  
    </procedure>
    
    <procedure id="regpol.domain.regpol.grabarRegPol" parameterMap="regpol.domain.regpol.prmtGrabarRegPol">
		{ call PKG_TUMI.grabar_regpolmenu( ?, ?, ?, ?, ?, ?, ?, ?, ? ) }  
    </procedure>
    
    <procedure id="regpol.domain.regpol.eliminarRegPol" parameterMap="prmtEliminarRegPol">
		{ call PKG_TUMI.eliminar_regpolmenu( ?, ?, ? ) }  
    </procedure>
</sqlMap>  